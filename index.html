<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReduCycle - Turning E-Waste into Education</title>

  <!-- CDN links (spaces removed) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

  <!-- TextPressure font -->
  <style>
    @font-face{
      font-family:'Compressa VF';
      src:url('./CompressaPRO-GX.woff2') format('woff2');
      font-display:swap;
    }
    .text-pressure{
      display:block;
      font-family:'Compressa VF','Inter',sans-serif;
      text-transform:uppercase;
      text-align:center;
      white-space:nowrap;
      font-weight:100;
      line-height:1;
      color:#ffffff;
    }
    .text-pressure span{
      display:inline-block;
      will-change:font-variation-settings,opacity;
    }
  </style>

  <!-- theme colours -->
  <style>
    :root {
      --earth-green: #5a8f3d;
      --warm-brown: #8b5a2b;
      --deep-teal: #2a6559;
      --sand: #d7b98e;
      --clay: #c77966;
    }
    body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
    .hero-bg {
      background: linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
                  url('https://static.photos/technology/1200x630/42');
      background-size:cover;
      background-position:center;
    }
    .accent { color: var(--earth-green); }
    .bg-accent { background-color: var(--earth-green); }
  </style>
</head>
<body class="bg-white text-gray-800">

<!-- NAV -->
<nav class="fixed w-full bg-white shadow-md z-50">
  <div class="container mx-auto px-6 py-4 flex items-center justify-between">
    <div class="text-2xl font-bold"><span class="accent">Redu</span>Cycle</div>
    <div class="hidden md:flex space-x-8">
      <a href="#about" class="hover:text-green-500">About</a>
      <a href="#impact" class="hover:text-green-500">Impact</a>
      <a href="#courses" class="hover:text-green-500">Courses</a>
      <a href="#involved" class="hover:text-green-500">Get Involved</a>
      <a href="#contact" class="hover:text-green-500">Contact</a>
    </div>
    <button class="md:hidden"><i data-feather="menu"></i></button>
  </div>
</nav>

<!-- HERO (no background image – light-rays only) -->
<section id="hero" class="min-h-screen flex items-center justify-center text-white pt-20 relative overflow-hidden bg-black">
  <!-- light-rays canvas background -->
  <div id="hero-light-rays" class="absolute inset-0 z-0"></div>

  <div class="absolute inset-0 bg-gradient-to-b from-black/70 to-transparent z-10"></div>
  <div class="container mx-auto px-6 text-center relative z-20">
    <h1 id="hero-pressure" class="text-4xl md:text-6xl font-bold mb-6 text-white">
      Your Trash. Their Future.
    </h1>
    <p class="text-xl md:text-2xl mb-10 max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="200">
      We're flipping the script on e-waste – turning discarded tech into digital education for those who need it most.
    </p>
    <div class="flex flex-col sm:flex-row justify-center gap-4" data-aos="fade-up" data-aos-delay="300">
      <a href="#contact" class="bg-accent text-white px-8 py-3 rounded-full font-bold hover:bg-green-600 transition transform hover:scale-105">Join the Movement</a>
      <button class="border-2 border-white text-white px-8 py-3 rounded-full font-bold hover:bg-white hover:text-gray-800 transition transform hover:scale-105">Donate Your Tech</button>
    </div>
  </div>

  <!-- floating device icons (kept for flavour) -->
  <div class="floating-devices">
    <img src="https://img.icons8.com/ios/100/ffffff/monitor.png" style="top:10%;left:5%;width:80px;animation-delay:0s">
    <img src="https://img.icons8.com/ios/100/ffffff/laptop.png" style="top:70%;right:10%;width:90px;animation-delay:2s">
    <img src="https://img.icons8.com/ios/100/ffffff/smartphone.png" style="bottom:20%;left:15%;width:60px;animation-delay:4s">
    <img src="https://img.icons8.com/ios/100/ffffff/tablet.png" style="top:40%;right:20%;width:70px;animation-delay:1s">
    <img src="https://img.icons8.com/ios/100/ffffff/cpu.png" style="bottom:10%;right:5%;width:65px;animation-delay:3s">
  </div>
</section>
  
<!-- ABOUT -->
<section id="about" class="py-20 bg-gradient-to-b from-gray-50 to-white">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16" data-aos="fade-up">This Isn't Just Recycling.<br><span class="accent">This Is Revolution.</span></h2>
    <div class="grid md:grid-cols-3 gap-10">
      <div class="bg-white p-8 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="100">
        <div class="text-5xl mb-4 accent"><i data-feather="eye"></i></div>
        <h3 class="text-xl font-bold mb-3">Vision</h3>
        <p class="text-gray-600">A world where digital literacy is a basic right, not a privilege.</p>
      </div>
      <div class="bg-white p-8 rounded-xl shadow-md" data-aos="fade-up" data-aos-delay="200">
        <div class="text-5xl mb-4 accent"><i data-feather="target"></i></div>
        <h3 class="text-xl font-bold mb-3">Mission</h3>
        <p class="text-gray-600">We collect e-waste and transform it into funding for peer-to-peer education. IB students in Dubai teach underprivileged youth aged 14–19 essential digital skills.</p>
      </div>
      <div class="bg-white p-8 rounded-xl shadow-md" data-aos="fade-up" data-aos-delay="300">
        <div class="text-5xl mb-4 accent"><i data-feather="heart"></i></div>
        <h3 class="text-xl font-bold mb-3">Values</h3>
        <ul class="text-gray-600 space-y-2">
          <li>Impact > Profit</li>
          <li>Transparency</li>
          <li>Student-led Change</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- IMPACT -->
<section id="impact" class="py-20 bg-gray-100">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16" data-aos="fade-up">See Our <span class="accent">Movement</span> in Action</h2>
    <div class="max-w-4xl mx-auto text-center mb-16" data-aos="fade-up">
      <p class="text-2xl font-bold mb-6">"This isn't charity. This is <span class="accent">generational change</span> powered by your old tech."</p>
      <p class="text-lg">Watch how we're turning e-waste into education and creating real impact.</p>
    </div>
    <div class="grid md:grid-cols-2 gap-8" data-aos="fade-up">
      <div class="bg-gray-200 rounded-xl aspect-[9/16] flex items-center justify-center">
        <div class="text-center p-8">
          <i data-feather="instagram" class="text-4xl mb-4 accent"></i>
          <h3 class="text-xl font-bold mb-2">Latest Reels</h3>
          <p class="text-gray-600 mb-4">See our students in action</p>
          <a href="#" class="bg-accent text-white px-6 py-2 rounded-full text-sm font-bold hover:bg-green-600 transition inline-block">Follow Us</a>
        </div>
      </div>
      <div class="bg-gray-200 rounded-xl aspect-[9/16] flex items-center justify-center">
        <div class="text-center p-8">
          <i data-feather="play-circle" class="text-4xl mb-4 accent"></i>
          <h3 class="text-xl font-bold mb-2">Success Stories</h3>
          <p class="text-gray-600">Watch transformation journeys</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- COURSES -->
<section id="courses" class="py-20 bg-gradient-to-b from-white to-gray-50">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16" data-aos="fade-up">Our <span class="accent">Courses</span></h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="100">
        <div class="text-4xl mb-4 accent"><i data-feather="monitor"></i></div>
        <h3 class="text-xl font-bold mb-3">Computer Basics</h3>
        <p class="text-gray-600">Fundamental skills to navigate and operate computers effectively.</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="150">
        <div class="text-4xl mb-4 accent"><i data-feather="globe"></i></div>
        <h3 class="text-xl font-bold mb-3">Internet & Email</h3>
        <p class="text-gray-600">Essential online navigation and communication skills.</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="200">
        <div class="text-4xl mb-4 accent"><i data-feather="briefcase"></i></div>
        <h3 class="text-xl font-bold mb-3">Productivity Tools</h3>
        <p class="text-gray-600">Mastering Word, Excel, and PowerPoint for professional use.</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="250">
        <div class="text-4xl mb-4 accent"><i data-feather="shield"></i></div>
        <h3 class="text-xl font-bold mb-3">Online Safety</h3>
        <p class="text-gray-600">Protecting personal information and safe browsing practices.</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="300">
        <div class="text-4xl mb-4 accent"><i data-feather="book-open"></i></div>
        <h3 class="text-xl font-bold mb-3">Future Learning</h3>
        <p class="text-gray-600">Pathways to continue digital education and skill development.</p>
      </div>
      <div class="bg-white p-6 rounded-xl shadow-md card-hover" data-aos="fade-up" data-aos-delay="350">
        <div class="text-4xl mb-4 accent"><i data-feather="plus"></i></div>
        <h3 class="text-xl font-bold mb-3">More Coming Soon</h3>
        <p class="text-gray-600">We're constantly expanding our curriculum.</p>
      </div>
    </div>
    <div class="text-center mt-16" data-aos="fade-up">
      <p class="text-xl mb-6">Students graduate with a <span class="font-bold accent">ReduCycle Digital Literacy Certificate</span>.</p>
    </div>
  </div>
</section>

<!-- GET INVOLVED -->
<section id="involved" class="py-20 bg-gray-50">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16" data-aos="fade-up"><span class="accent">Your Move.</span><br>Choose How You Change Lives</h2>
    <p class="text-xl text-center max-w-3xl mx-auto mb-16" data-aos="fade-up">"The future isn't built by spectators. It's built by <span class="font-bold accent">doers</span>."</p>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-white p-8 rounded-xl border border-gray-200" data-aos="fade-up" data-aos-delay="100">
        <div class="text-5xl mb-4 accent"><i data-feather="cpu"></i></div>
        <h3 class="text-xl font-bold mb-3">Donate Devices</h3>
        <p class="text-gray-600 mb-4">School drop boxes / company donations.</p>
        <button class="bg-accent text-white px-6 py-2 rounded-full text-sm font-bold hover:bg-green-600 transition">Learn More</button>
      </div>
      <div class="bg-white p-8 rounded-xl border border-gray-200" data-aos="fade-up" data-aos-delay="200">
        <div class="text-5xl mb-4 accent"><i data-feather="users"></i></div>
        <h3 class="text-xl font-bold mb-3">Volunteer</h3>
        <p class="text-gray-600 mb-4">Dubai students sign up to teach.</p>
        <button class="bg-accent text-white px-6 py-2 rounded-full text-sm font-bold hover:bg-green-600 transition">Sign Up</button>
      </div>
      <div class="bg-white p-8 rounded-xl border border-gray-200" data-aos="fade-up" data-aos-delay="300">
        <div class="text-5xl mb-4 accent"><i data-feather="handshake"></i></div>
        <h3 class="text-xl font-bold mb-3">Partner</h3>
        <p class="text-gray-600 mb-4">NGOs/schools collaborate with us.</p>
        <button class="bg-accent text-white px-6 py-2 rounded-full text-sm font-bold hover:bg-green-600 transition">Contact Us</button>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact" class="py-20 bg-gradient-to-b from-gray-50 to-white">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16" data-aos="fade-up">Contact <span class="accent">Us</span></h2>
    <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-10 items-start">
      <div data-aos="fade-up" data-aos-delay="100">
        <form action="https://script.google.com/macros/s/AKfycbzjjViwmOVKk4fNhJXZjewJYz77TagVPTQAd5l1fgTYaPvPeDX1T6jCHGAXsBD9NaI-/exec" method="POST" target="hidden_iframe" class="space-y-6" onsubmit="shakeForm(this)">
          <input name="name" type="text" required placeholder="Name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
          <input name="email" type="email" required placeholder="Email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
          <select name="reason" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
            <option>General Inquiry</option>
            <option>Device Donation</option>
            <option>Volunteering</option>
            <option>Partnership</option>
          </select>
          <textarea name="message" required placeholder="Message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"></textarea>
          <button type="submit" class="bg-accent text-white px-6 py-3 rounded-lg font-bold hover:bg-green-600 transition w-full">Send Message</button>
        </form>
      </div>
      <div data-aos="fade-up" data-aos-delay="200">
        <div class="bg-white p-8 rounded-xl shadow-md h-full">
          <h3 class="text-xl font-bold mb-6">Other Ways to Reach Us</h3>
          <div class="space-y-6">
            <div class="flex items-start">
              <div class="text-2xl mr-4 accent"><i data-feather="mail"></i></div>
              <div><h4 class="font-bold mb-1">Email</h4><p class="text-gray-600">info.reducycle@gmail.com</p></div>
            </div>
            <div class="flex items-start">
              <div class="text-2xl mr-4 accent"><i data-feather="map-pin"></i></div>
              <div><h4 class="font-bold mb-1">Location</h4><p class="text-gray-600">Based in Dubai, UAE</p></div>
            </div>
            <div class="flex items-start">
              <div class="text-2xl mr-4 accent"><i data-feather="share-2"></i></div>
              <div>
                <h4 class="font-bold mb-3">Social Media</h4>
                <div class="flex space-x-4"><a href="#" class="text-gray-600 hover:text-green-500 transition"><i data-feather="instagram"></i></a></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-gradient-to-b from-var(--warm-brown) to-var(--deep-teal) text-white py-12">
  <div class="container mx-auto px-6">
    <div class="grid md:grid-cols-4 gap-10">
      <div>
        <h3 class="text-2xl font-bold mb-4"><span class="accent">Redu</span>Cycle</h3>
        <p class="text-gray-400">Turning e-waste into education.</p>
      </div>
      <div>
        <h4 class="font-bold mb-4">Quick Links</h4>
        <ul class="space-y-2">
          <li><a href="#about" class="text-gray-400 hover:text-white transition">About</a></li>
          <li><a href="#impact" class="text-gray-400 hover:text-white transition">Impact</a></li>
          <li><a href="#courses" class="text-gray-400 hover:text-white transition">Courses</a></li>
          <li><a href="#contact" class="text-gray-400 hover:text-white transition">Contact</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-bold mb-4">Get Involved</h4>
        <ul class="space-y-2">
          <li><a href="#" class="text-gray-400 hover:text-white transition">Donate Devices</a></li>
          <li><a href="#" class="text-gray-400 hover:text-white transition">Volunteer</a></li>
          <li><a href="#" class="text-gray-400 hover:text-white transition">Partner With Us</a></li>
        </ul>
      </div>
      <div></div>
    </div>
    <div class="border-t border-gray-700 mt-12 pt-8 text-center text-gray-400">
      <p>&copy; 2025 ReduCycle. All rights reserved.</p>
    </div>
  </div>
</footer>

<!-- sticky CTA -->
<a href="#contact" id="stickyCta" class="sticky-cta fixed bottom-6 right-6 z-50 animate-bounce bg-var(--warm-brown) px-6 py-3 rounded-full font-bold shadow-lg hover:bg-var(--clay) transition transform hover:scale-110" style="animation-duration:2s">
  <i data-feather="user-plus" class="mr-2 inline"></i>Join the Mission
</a>

<iframe name="hidden_iframe" style="display:none"></iframe>

<!-- =========  VANILLA LIGHT-RAYS  ========= -->
<script>
/*  vanilla Light-Rays (no React) – your settings baked in  */
class LightRays{
  constructor(selector,opts={}){
    this.container=typeof selector==='string'?document.querySelector(selector):selector;
    if(!this.container){console.warn('LightRays: container not found');return;}
    this.opts={
      raysOrigin:opts.raysOrigin||'top-center',
      raysColor:opts.raysColor||'#007BFF',   // YOUR colour
      raysSpeed:opts.raysSpeed||1,           // YOUR speed
      lightSpread:opts.lightSpread||2,       // YOUR spread
      rayLength:opts.rayLength||3,           // YOUR length
      pulsating:opts.pulsating!==false,      // YOUR pulsating ON
      fadeDistance:opts.fadeDistance||1,     // YOUR fade
      saturation:opts.saturation||1,         // YOUR saturation
      followMouse:opts.followMouse!==false,
      mouseInfluence:opts.mouseInfluence||0, // YOUR influence OFF
      noiseAmount:opts.noiseAmount||0,       // YOUR noise OFF
      distortion:opts.distortion||1          // YOUR distortion ON
    };
    this.init();
  }
  init(){
    this.injectCSS();
    this.buildCanvas();
    this.loop();
  }
  injectCSS(){
    if(document.querySelector('#light-rays-css'))return;
    const s=document.createElement('style');
    s.id='light-rays-css';
    s.textContent=`
      .light-rays-canvas{display:block;width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;z-index:0;}
      .light-rays-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}
    `;
    document.head.appendChild(s);
  }
  buildCanvas(){
    this.canvas=document.createElement('canvas');
    this.canvas.className='light-rays-canvas';
    this.container.appendChild(this.canvas);
    this.gl=this.canvas.getContext('webgl')||this.canvas.getContext('experimental-webgl');
    if(!this.gl){console.warn('WebGL unavailable');return;}
    this.resize();
    window.addEventListener('resize',()=>this.resize());
    this.initGL();
  }
  resize(){
    const dpr=Math.min(window.devicePixelRatio,2);
    const rect=this.container.getBoundingClientRect();
    this.canvas.width=rect.width*dpr;
    this.canvas.height=rect.height*dpr;
    this.gl.viewport(0,0,this.canvas.width,this.canvas.height);
  }
  initGL(){
    const gl=this.gl;
    const vert=`attribute vec2 position;varying vec2 vUv;void main(){vUv=position*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}`;
    const frag=`precision highp float;
uniform float iTime;uniform vec2 iResolution;uniform vec2 rayPos;uniform vec2 rayDir;uniform vec3 raysColor;
uniform float raysSpeed;uniform float lightSpread;uniform float rayLength;uniform float pulsating;uniform float fadeDistance;
uniform float saturation;uniform vec2 mousePos;uniform float mouseInfluence;uniform float noiseAmount;uniform float distortion;
varying vec2 vUv;
float noise(vec2 st){return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);}
float rayStrength(vec2 raySource,vec2 rayRefDirection,vec2 coord,float seedA,float seedB,float speed){
  vec2 sourceToCoord=coord-raySource;vec2 dirNorm=normalize(sourceToCoord);
  float cosAngle=dot(dirNorm,rayRefDirection);
  float distortedAngle=cosAngle+distortion*sin(iTime*2.0+length(sourceToCoord)*0.01)*0.2;
  float spreadFactor=pow(max(distortedAngle,0.0),1.0/max(lightSpread,0.001));
  float distance=length(sourceToCoord);float maxDistance=iResolution.x*rayLength;
  float lengthFalloff=clamp((maxDistance-distance)/maxDistance,0.0,1.0);
  float fadeFalloff=clamp((iResolution.x*fadeDistance-distance)/(iResolution.x*fadeDistance),0.5,1.0);
  float pulse=pulsating>0.5?(0.8+0.2*sin(iTime*speed*3.0)):1.0;
  float baseStrength=clamp((0.45+0.15*sin(distortedAngle*seedA+iTime*speed))+(0.3+0.2*cos(-distortedAngle*seedB+iTime*speed)),0.0,1.0);
  return baseStrength*lengthFalloff*fadeFalloff*spreadFactor*pulse;
}
void mainImage(out vec4 fragColor,in vec2 fragCoord){
  vec2 coord=vec2(fragCoord.x,iResolution.y-fragCoord.y);
  vec2 finalRayDir=rayDir;
  if(mouseInfluence>0.0){
    vec2 mouseScreenPos=mousePos*iResolution.xy;
    vec2 mouseDirection=normalize(mouseScreenPos-rayPos);
    finalRayDir=normalize(mix(rayDir,mouseDirection,mouseInfluence));
  }
  vec4 rays1=vec4(1.0)*rayStrength(rayPos,finalRayDir,coord,36.2214,21.11349,1.5*raysSpeed);
  vec4 rays2=vec4(1.0)*rayStrength(rayPos,finalRayDir,coord,22.3991,18.0234,1.1*raysSpeed);
  fragColor=rays1*0.5+rays2*0.4;
  if(noiseAmount>0.0){float n=noise(coord*0.01+iTime*0.1);fragColor.rgb*=(1.0-noiseAmount+noiseAmount*n);}
  float brightness=1.0-(coord.y/iResolution.y);
  fragColor.x*=0.1+brightness*0.8;fragColor.y*=0.3+brightness*0.6;fragColor.z*=0.5+brightness*0.5;
  if(saturation!=1.0){float gray=dot(fragColor.rgb,vec3(0.299,0.587,0.114));fragColor.rgb=mix(vec3(gray),fragColor.rgb,saturation);}
  fragColor.rgb*=raysColor;
}
void main(){vec4 color;mainImage(color,gl_FragCoord.xy);gl_FragColor=color;}`;

    const program=this.createProgram(vert,frag);
    this.program=program;
    this.uniforms={
      iTime:{value:0},iResolution:{value:[1,1]},
      rayPos:{value:[0,0]},rayDir:{value:[0,1]},
      raysColor:{value:this.hexToRgb(this.opts.raysColor)},
      raysSpeed:{value:this.opts.raysSpeed},
      lightSpread:{value:this.opts.lightSpread},
      rayLength:{value:this.opts.rayLength},
      pulsating:{value:this.opts.pulsating?1:0},
      fadeDistance:{value:this.opts.fadeDistance},
      saturation:{value:this.opts.saturation},
      mousePos:{value:[0.5,0.5]},mouseInfluence:{value:this.opts.mouseInfluence},
      noiseAmount:{value:this.opts.noiseAmount},distortion:{value:this.opts.distortion}
    };
    this.createMesh();
    if(this.opts.followMouse)this.bindMouse();
  }
  hexToRgb(hex){
    const m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return m?[parseInt(m[1],16)/255,parseInt(m[2],16)/255,parseInt(m[3],16)/255]:[1,1,1];
  }
  createProgram(vert,frag){
    const gl=this.gl;
    const vs=this.compileShader(vert,gl.VERTEX_SHADER);
    const fs=this.compileShader(frag,gl.FRAGMENT_SHADER);
    const prog=gl.createProgram();
    gl.attachShader(prog,vs);gl.attachShader(prog,fs);gl.linkProgram(prog);
    if(!gl.getProgramParameter(prog,gl.LINK_STATUS))console.error('Program link error:',gl.getProgramInfoLog(prog));
    return prog;
  }
  compileShader(src,type){
    const gl=this.gl;const s=gl.createShader(type);
    gl.shaderSource(s,src);gl.compileShader(s);
    if(!gl.getShaderParameter(s,gl.COMPILE_STATUS))console.error('Shader compile error:',gl.getShaderInfoLog(s));
    return s;
  }
  createMesh(){
    const gl=this.gl;
    const vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]);
    this.buffer=gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER,this.buffer);
    gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);
    this.positionLoc=gl.getAttribLocation(this.program,'position');
    gl.enableVertexAttribArray(this.positionLoc);
    gl.vertexAttribPointer(this.positionLoc,2,gl.FLOAT,false,0,0);
  }
  loop(){
    const gl=this.gl;
    const draw=(t)=>{
      this.resize();
      gl.useProgram(this.program);
      Object.keys(this.uniforms).forEach(name=>{
        const loc=gl.getUniformLocation(this.program,name);
        const val=this.uniforms[name].value;
        if(Array.isArray(val))gl['uniform'+val.length+'fv'](loc,val);
        else gl.uniform1f(loc,val);
      });
      gl.drawArrays(gl.TRIANGLE_STRIP,0,4);
      this.uniforms.iTime.value=t*0.001;
      this.raf=requestAnimationFrame(draw);
    };
    draw();
  }
  bindMouse(){
    const onMove=e=>{
      const rect=this.canvas.getBoundingClientRect();
      const x=(e.clientX-rect.left)/rect.width;
      const y=(e.clientY-rect.top)/rect.height;
      this.uniforms.mousePos.value=[x,y];
    };
    window.addEventListener('mousemove',onMove);
    this.canvas.addEventListener('mousemove',onMove);
  }
  destroy(){
    if(this.raf)cancelAnimationFrame(this.raf);
    if(this.canvas&&this.canvas.parentNode)this.canvas.parentNode.removeChild(this.canvas);
  }
}
</script>

<!-- =========  TEXT-PRESSURE CLASS  ========= -->
<script>
class TextPressure{
  constructor(selector,opts={}){
    this.container=typeof selector==='string'?document.querySelector(selector):selector;
    if(!this.container){console.warn('TextPressure: element not found');return;}
    this.text=opts.text||this.container.textContent||'Compressa';
    this.textColor=opts.textColor||'#FFFFFF';
    this.minFontSize=opts.minFontSize||24;
    this.width=opts.width!==false;
    this.weight=opts.weight!==false;
    this.italic=opts.italic!==false;
    this.alpha=opts.alpha||false;
    this.spans=[];
    this.mouse={x:0,y:0};
    this.cursor={x:0,y:0};
    this.init();
  }
  init(){
    this.container.innerHTML='';
    this.container.className='text-pressure';
    this.container.style.color=this.textColor;
    if(!document.querySelector('#text-pressure-font')){
      const s=document.createElement('style');
      s.id='text-pressure-font';
      s.textContent=`@font-face{font-family:'Compressa VF';src:url('./CompressaPRO-GX.woff2') format('woff2');}`;
      document.head.appendChild(s);
    }
    this.buildSpans();
    this.bindEvents();
    this.animate();
  }
  buildSpans(){
    this.text.split('').forEach(ch=>{
      const span=document.createElement('span');
      span.textContent=ch===''?'\u00A0':ch;
      this.container.appendChild(span);
      this.spans.push(span);
    });
  }
  bindEvents(){
    const onMove=e=>{
      const t=e.touches?e.touches[0]:e;
      this.cursor.x=t.clientX;
      this.cursor.y=t.clientY;
    };
    window.addEventListener('mousemove',onMove);
    window.addEventListener('touchmove',onMove,{passive:false});
    window.addEventListener('resize',()=>this.setSize());
    this.setSize();
  }
  setSize(){
    const rect=this.container.getBoundingClientRect();
    const fontSize=Math.max(rect.width/(this.text.length/2),this.minFontSize);
    this.container.style.fontSize=fontSize+'px';
  }
  animate(){
    const loop=()=>{
      this.mouse.x+=(this.cursor.x-this.mouse.x)/15;
      this.mouse.y+=(this.cursor.y-this.mouse.y)/15;
      const rect=this.container.getBoundingClientRect();
      const maxDist=rect.width/2;
      this.spans.forEach(span=>{
        const r=span.getBoundingClientRect();
        const cx=r.x+r.width/2;
        const cy=r.y+r.height/2;
        const d=Math.hypot(this.mouse.x-cx,this.mouse.y-cy);
        const getAttr=(dist,min,max)=>Math.max(min,max-Math.abs((max*dist)/maxDist));
        const wdth=this.width?Math.floor(getAttr(d,5,200)):100;
        const wght=this.weight?Math.floor(getAttr(d,100,900)):400;
        const ital=this.italic?getAttr(d,0,1).toFixed(2):0;
        const alpha=this.alpha?getAttr(d,0,1).toFixed(2):1;
        span.style.opacity=alpha;
        span.style.fontVariationSettings=`'wght' ${wght}, 'wdth' ${wdth}, 'ital' ${ital}`;
      });
      requestAnimationFrame(loop);
    };
    loop();
  }
}
</script>

<!-- =========  INIT ALL  ========= -->
<script>
/* AOS + feather */
AOS.init({duration:800,easing:'ease-in-out',once:true});
feather.replace();

/* sticky-cta colour swap */
const btn=document.getElementById('stickyCta'),hero=document.getElementById('hero');
const update=()=>{
  const hb=hero.getBoundingClientRect().bottom;
  btn.classList.toggle('white',hb>0);
  btn.classList.toggle('dark',hb<=0);
};
window.addEventListener('scroll',update);
update();

/* button glitch */
document.querySelectorAll('button, a').forEach(el=>
  el.addEventListener('click',()=>{
    el.classList.add('glitch');
    setTimeout(()=>el.classList.remove('glitch'),350);
  })
);

/* card hover 3-D effect */
const cards=document.querySelectorAll('.card-hover');
const io=new IntersectionObserver(entries=>{
  entries.forEach(x=>{
    if(x.isIntersecting){
      const r=x.intersectionRatio;
      x.target.style.transform=`scale(${1+.1*r}) rotateX(${-10*r}deg)`;
      x.target.style.transition='transform .4s ease-out';
    }
  });
},{threshold:[0,.25,.5,.75,1]});
cards.forEach(c=>io.observe(c));

/* form shake */
function shakeForm(f){
  if(!f.checkValidity()){
    f.style.animation='shake .4s';
    setTimeout(()=>f.style.animation='',400);
  }
}

/* initialise Light-rays + Text-pressure after DOM ready */
window.addEventListener('DOMContentLoaded',()=>{
  new LightRays('#hero-light-rays',{
    raysOrigin:'top-center',
    raysColor:'#007BFF',
    raysSpeed:1,
    lightSpread:2,
    rayLength:3,
    pulsating:true,
    fadeDistance:1,
    saturation:1,
    followMouse:true,
    mouseInfluence:0,
    noiseAmount:0,
    distortion:1
  });
  new TextPressure('#hero-pressure',{textColor:'#ffffff',minFontSize:32});
});
</script>
</body>
</html>

